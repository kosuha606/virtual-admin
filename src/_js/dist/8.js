(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Dxko:function(t,i,n){"use strict";n.r(i);var a=n("H/qq").a,e=n("KHd+"),s=Object(e.a)(a,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("vue-table",{ref:"mainList",attrs:{"default-sort":t.defaultSort,id:t.id,"sync-url":t.fetchData,"cell-components":t.vueTableFields,"filter-components":t.filterComponents,"mass-operation-components":t.massOperationComponents},scopedSlots:t._u([{key:"pagination_top",fn:function(){return[t.$refs&&t.$refs.mainList?n("div",[t.$refs.mainList.pagination.appendMode?n("button",{attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.nextPage()}}},[t._v("\n                    Показать еще\n                ")]):n("div",{staticClass:"pagination-wrapper row"},[n("div",{staticClass:"col-md-10"},[n("ul",{staticClass:"pagination"},[n("li",{staticClass:"pagination-item"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.gotoBegin()}}},[t._v("В начало")])]),t._v(" "),n("li",{staticClass:"pagination-item"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.prevPage()}}},[t._v("Назад")])]),t._v(" "),t.$refs.mainList.pagination.page>1?n("li",{staticStyle:{padding:"0 10px"}},[t._v("\n                                ...\n                            ")]):t._e(),t._v(" "),t.$refs.mainList.pagination.page>1?n("li",{class:{"pagination-item":1,"pagination-item__active":0}},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page-1)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page-1)+"\n                                ")])]):t._e(),t._v(" "),n("li",{class:{"pagination-item":1,"pagination-item__active":1}},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page)+"\n                                ")])]),t._v(" "),t.$refs.mainList.pagination.page<t.$refs.mainList.pagination.pagesCount()?n("li",{class:{"pagination-item":1,"pagination-item__active":0}},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page+1)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page+1)+"\n                                ")])]):t._e(),t._v(" "),t.$refs.mainList.pagination.page<t.$refs.mainList.pagination.pagesCount()?n("li",{staticStyle:{padding:"0 10px"}},[t._v("\n                                ...\n                            ")]):t._e(),t._v(" "),n("li",{staticClass:"pagination-item"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.nextPage()}}},[t._v("Вперед")])]),t._v(" "),n("li",{staticClass:"pagination-item"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.pagination.gotoEnd()}}},[t._v("В конец")])])])]),t._v(" "),n("div",{staticClass:"items-per-page col-md-2"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.$refs.mainList.pagination.itemsPerPage,expression:"$refs.mainList.pagination.itemsPerPage"}],staticClass:"form-control",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$refs.mainList.pagination,"itemsPerPage",i.target.multiple?n:n[0])}}},t._l(t.$refs.mainList.pagination.itemsPerPageVariants,(function(i){return n("option",{domProps:{selected:i==t.$refs.mainList.pagination.itemsPerPage,value:i}},[t._v("\n                                "+t._s(i)+"\n                            ")])})),0)]),t._v(" "),n("div",{staticClass:"clearfix"})])]):t._e()]},proxy:!0},{key:"filter",fn:function(){return[t.$refs&&t.$refs.mainList?n("div",{staticClass:"vue-table-filter"},[n("div",{staticClass:"row"},t._l(t.$refs.mainList.filterComponents,(function(i){return n("div",{staticClass:"col-md-4"},[n(i.component,{key:"mass_"+i.field+i.label,tag:"component",attrs:{name:i.field,label:i.label,props:i.props},model:{value:t.$refs.mainList.filters[i.field],callback:function(n){t.$set(t.$refs.mainList.filters,i.field,n)},expression:"$refs.mainList.filters[component.field]"}})],1)})),0),t._v(" "),n("div",{staticClass:"vue-table-filter-reset mt-10"},[t.$refs.mainList.filterComponents.length?n("button",{staticClass:"btn btn-default",on:{click:t.$refs.mainList.resetFilter}},[t._v("\n                        Сбросить\n                    ")]):t._e()])]):t._e()]},proxy:!0}])})],1)}),[],!1,null,"b56c8dc6",null);i.default=s.exports},"H/qq":function(t,i,n){"use strict";(function(t){var a=n("oVZ1");i.a={name:"List",props:{id:String,entityUrl:String,cellComponents:Array,filterComponents:Array,massOperationComponents:Array,defaultSort:Object},components:{VueTable:a.a},computed:{vueTableFields:function(){var t=this,i=[];return this.cellComponents.forEach((function(n){var a=n.props?n.props:{};if(n.props&&n.props.link&&(a.link=function(i){return t.entityUrl+"/detail?id="+i.id}),n.props&&n.props.url){var e=n.props.url;a.url=function(t){return e.toString().replace("%id%",t.id)}}i.push({component:n.component,field:n.field,label:n.label,props:a})})),i}},methods:{fetchData:function(i,n){var a=this,e={};n&&((e={}).page=n.pagination.page,e.per_page=n.pagination.itemsPerPage,e.sortField=n.sort.field,e.sortDir=n.sort.direction,e.filter=n.filters),this.$root.startProgress(),t.ajax({method:"GET",url:this.entityUrl+"/list",data:e}).done((function(t){i&&i({data:{items:t.models,total:t.pagination.totals}}),a.$root.stopProgress()})).fail((function(){alert("server error"),a.$root.stopProgress()}))}}}}).call(this,n("EVdn"))}}]);
//# sourceMappingURL=8.js.map