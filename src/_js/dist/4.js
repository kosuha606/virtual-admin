(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"KHd+":function(t,e,n){"use strict";function o(t,e,n,o,a,r,s,i){var p,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=p):a&&(p=i?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),p)if(c.functional){c._injectStyles=p;var l=c.render;c.render=function(t,e){return p.call(e),l(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,p):[p]}return{exports:t,options:c}}n.d(e,"a",(function(){return o}))},T8tJ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".constructor-wrapper[data-v-77950c76] {\n  padding: 10px 10px 10px 20px;\n  border: solid 1px #ccc;\n  margin-bottom: 10px;\n}\n.constructor-wrapper[data-v-77950c76]:last-child {\n  margin-bottom: 0;\n}\n.constructor-wrapper select[data-v-77950c76] {\n  max-width: 400px;\n}\n.constructor-wrapper label[data-v-77950c76] {\n  display: none;\n  height: 0;\n  position: absolute;\n}\n.constructor-wrapper .btn-danger[data-v-77950c76],\n.constructor-wrapper .constructor-field[data-v-77950c76] {\n  margin-bottom: 10px;\n}\n.constructor-wrapper .constructor-field[data-v-77950c76]:last-child {\n  margin-bottom: 0;\n}\n",""])},fxTb:function(t,e,n){var o=n("T8tJ");"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,a);o.locals&&(t.exports=o.locals)},jwNL:function(t,e,n){"use strict";var o=n("fxTb");n.n(o).a},szKb:function(t,e,n){"use strict";n.r(e);var o=n("LvDl");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r={name:"ConfigBuilderField",props:["value","label","props"],watch:{data:{handler:function(){var t=Object(o.cloneDeep)(this.data);Object(o.each)(t,(function(t){delete t.props})),this.$emit("input",JSON.stringify(t))},deep:!0}},created:function(){var t=this;this.props&&this.props.inputTypes&&(this.defaultComponent=this.props.inputTypes[0].type,this.defaultProps=this.props.inputTypes[0].props,this.inputTypes=this.props.inputTypes);try{this.data=JSON.parse(this.value)}catch(t){"object"===a(this.value)?this.data=this.value:console.log("no data for constructor")}Object(o.each)(this.data,(function(e){e.props=t.defaultProps})),this.data&&(this.counter=this.data.length)},data:function(){return{counter:0,defaultComponent:"InputField",defaultProps:{},data:[],inputTypes:[{type:"InputField",label:"Текст строка",props:{}},{type:"TextField",label:"Текст область",props:{}},{type:"HtmlField",label:"HTML",props:{}},{type:"RedactorField",label:"Редактор",props:{}},{type:"ImageField",label:"Изображение",props:{}},{type:"ConfigBuilderField",label:"Конфигуратор",props:{}}]}},methods:{deleteItem:function(t){try{this.data.splice(t,1),this.$forceUpdate()}catch(t){this.data=[]}},addItem:function(){this.counter++;try{this.data.push({code:this.data.length+1,type:this.defaultComponent,value:"",props:this.defaultProps}),this.$forceUpdate()}catch(t){this.data=[],this.addItem()}},onChange:function(t){this.$emit("input",t.target.value)}}},s=(n("jwNL"),n("KHd+")),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:""}},[t._v("\n        "+t._s(t.label)+"\n    ")]),t._v(" "),n("div",[t._l(t.data,(function(e,o){return n("div",{staticClass:"constructor-wrapper"},[n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteItem(o)}}},[t._v("\n                ×\n            ")]),t._v(" "),n("div",{staticClass:"constructor-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"item.code"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.code},on:{input:function(n){n.target.composing||t.$set(e,"code",n.target.value)}}})]),t._v(" "),n("div",{staticClass:"constructor-field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"item.type"}],staticClass:"form-control",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"type",n.target.multiple?o:o[0])}}},t._l(t.inputTypes,(function(e,o){return n("option",{attrs:{value:""},domProps:{value:e.type}},[t._v(t._s(e.label))])})),0)]),t._v(" "),n("div",{staticClass:"constructor-field"},[e.type?n(e.type,{tag:"component",attrs:{props:e.props},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}):t._e()],1)])})),t._v(" "),n("div",[n("hr"),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.addItem}},[t._v("+")])])],2)])}),[],!1,null,"77950c76",null);e.default=i.exports}}]);
//# sourceMappingURL=4.js.map