(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/JfJ":function(t,n,i){"use strict";var e={name:"StringCell",props:{value:[String,Number],item:Object,field:String}},a=i("KHd+"),s=Object(a.a)(e,(function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("td",[t.$attrs.props&&t.$attrs.props.link?i("a",{attrs:{href:t.$attrs.props.link(t.item)}},[t._v("\n        "+t._s(t.item[t.field])+"\n    ")]):i("span",[t._v("\n        "+t._s(t.item[t.field])+"\n    ")])])}),[],!1,null,"ab2034a6",null);n.a=s.exports},Dxko:function(t,n,i){"use strict";i.r(n);var e=i("H/qq").a,a=i("KHd+"),s=Object(a.a)(e,(function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("vue-table",{ref:"mainList",attrs:{"default-sort":t.defaultSort,id:t.id,"sync-url":t.fetchData,"cell-components":t.vueTableFields,"filter-components":t.filterComponents,"mass-operation-components":t.massOperationComponents},scopedSlots:t._u([{key:"pagination_top",fn:function(){return[t.$refs&&t.$refs.mainList?i("div",[t.$refs.mainList.pagination.appendMode?i("button",{attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.nextPage()}}},[t._v("\n                    Показать еще\n                ")]):i("div",{staticClass:"pagination-wrapper row"},[i("div",{staticClass:"col-md-10"},[i("ul",{staticClass:"pagination"},[i("li",{staticClass:"pagination-item"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.gotoBegin()}}},[t._v("В начало")])]),t._v(" "),i("li",{staticClass:"pagination-item"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.prevPage()}}},[t._v("Назад")])]),t._v(" "),t.$refs.mainList.pagination.page>1?i("li",{staticStyle:{padding:"0 10px"}},[t._v("\n                                ...\n                            ")]):t._e(),t._v(" "),t.$refs.mainList.pagination.page>1?i("li",{class:{"pagination-item":1,"pagination-item__active":0}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page-1)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page-1)+"\n                                ")])]):t._e(),t._v(" "),i("li",{class:{"pagination-item":1,"pagination-item__active":1}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page)+"\n                                ")])]),t._v(" "),t.$refs.mainList.pagination.page<t.$refs.mainList.pagination.pagesCount()?i("li",{class:{"pagination-item":1,"pagination-item__active":0}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.gotoPage(t.$refs.mainList.pagination.page+1)}}},[t._v("\n                                    "+t._s(t.$refs.mainList.pagination.page+1)+"\n                                ")])]):t._e(),t._v(" "),t.$refs.mainList.pagination.page<t.$refs.mainList.pagination.pagesCount()?i("li",{staticStyle:{padding:"0 10px"}},[t._v("\n                                ...\n                            ")]):t._e(),t._v(" "),i("li",{staticClass:"pagination-item"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.nextPage()}}},[t._v("Вперед")])]),t._v(" "),i("li",{staticClass:"pagination-item"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){return t.$refs.mainList.pagination.gotoEnd()}}},[t._v("В конец")])])])]),t._v(" "),i("div",{staticClass:"items-per-page col-md-2"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.$refs.mainList.pagination.itemsPerPage,expression:"$refs.mainList.pagination.itemsPerPage"}],staticClass:"form-control",on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$refs.mainList.pagination,"itemsPerPage",n.target.multiple?i:i[0])}}},t._l(t.$refs.mainList.pagination.itemsPerPageVariants,(function(n){return i("option",{domProps:{selected:n==t.$refs.mainList.pagination.itemsPerPage,value:n}},[t._v("\n                                "+t._s(n)+"\n                            ")])})),0)]),t._v(" "),i("div",{staticClass:"clearfix"})])]):t._e()]},proxy:!0},{key:"list",fn:function(){return[t.$refs.mainList?i("div",[i("div",{staticClass:"table-info"},[t._v("\n                    записи с "+t._s(t.$refs.mainList.pagination.getOffsetBegin()+1)+"\n                    по "+t._s(t.$refs.mainList.pagination.getOffsetEnd())+",\n                    всего: "+t._s(t.$refs.mainList.pagination.getTotal())+" шт.\n                    "+t._s(t.$refs.mainList.pagination.page)+"\n                    из "+t._s(t.$refs.mainList.pagination.pagesCount())+" стр.\n                ")]),t._v(" "),i("table",{class:{"table table-striped table-bordered":1,"table-loading":t.$refs.mainList.isLoading}},[i("thead",[i("tr",t._l(t.$refs.mainList.cellComponents,(function(n){return i("th",{attrs:{width:n.attrs?n.attrs.width:""}},[t._v("\n                            "+t._s(n.label)+"\n                            "),n.field&&!1!==n.props.sort?i("div",{staticClass:"table-sort"},[i("button",{class:{"btn btn-default":1,"table-sort-active":t.$refs.mainList.sort.field==n.field&&"desc"==t.$refs.mainList.sort.direction},attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.onSort(n.field,"desc")}}},[t._v("↑")]),t._v(" "),i("button",{class:{"btn btn-default":1,"table-sort-active":t.$refs.mainList.sort.field==n.field&&"asc"==t.$refs.mainList.sort.direction},attrs:{type:"button"},on:{click:function(i){return t.$refs.mainList.onSort(n.field,"asc")}}},[t._v("↓")])]):t._e()])})),0)]),t._v(" "),i("tbody",t._l(t.$refs.mainList.items,(function(n,e){return i("tr",[t._l(t.$refs.mainList.cellComponents,(function(a){return[a.massOperation?i(a.component,{key:e+"_"+a.field+a.label,tag:"component",attrs:{"mass-operations":t.massOperations,component:a,field:a.field,props:a.props,item:n},on:{"mass-select":function(n){return t.$refs.mainList.onMassComponentSelect(n,a)},"mass-unselect":function(n){return t.$refs.mainList.onMassComponentUnselect(n,a)}}}):i(a.component,{key:e+"_"+a.field+a.label,tag:"component",attrs:{field:a.field,props:a.props,item:n,value:n[a.field]}})]}))],2)})),0)])]):t._e()]},proxy:!0},{key:"filter",fn:function(){return[t.$refs&&t.$refs.mainList?i("div",{staticClass:"vue-table-filter"},[i("div",{staticClass:"row"},t._l(t.$refs.mainList.filterComponents,(function(n){return i("div",{staticClass:"col-md-4"},[i(n.component,{key:"mass_"+n.field+n.label,tag:"component",attrs:{name:n.field,label:n.label,props:n.props},model:{value:t.$refs.mainList.filters[n.field],callback:function(i){t.$set(t.$refs.mainList.filters,n.field,i)},expression:"$refs.mainList.filters[component.field]"}})],1)})),0),t._v(" "),i("div",{staticClass:"vue-table-filter-reset mt-10"},[t.$refs.mainList.filterComponents.length?i("button",{staticClass:"btn btn-default",on:{click:t.$refs.mainList.resetFilter}},[t._v("\n                        Сбросить\n                    ")]):t._e()])]):t._e()]},proxy:!0}])})],1)}),[],!1,null,"0459a0c0",null);n.default=s.exports},"H/qq":function(t,n,i){"use strict";(function(t){var e=i("oVZ1"),a=i("/JfJ");n.a={name:"List",props:{id:String,entityUrl:String,cellComponents:Array,filterComponents:Array,massOperationComponents:Array,defaultSort:Object},components:{VueTable:e.a,StringCell:a.a},computed:{vueTableFields:function(){var t=this,n=[];return this.cellComponents.forEach((function(i){var e=i.props?i.props:{};if(i.props&&i.props.link&&(e.link=function(n){return t.entityUrl+"/detail?id="+n.id}),i.props&&i.props.url){var a=i.props.url;e.url=function(t){return a.toString().replace("%id%",t.id)}}n.push({component:i.component,field:i.field,label:i.label,props:e})})),n}},methods:{fetchData:function(n,i){var e=this,a={};i&&((a={}).page=i.pagination.page,a.per_page=i.pagination.itemsPerPage,a.sortField=i.sort.field,a.sortDir=i.sort.direction,a.filter=i.filters),this.$root.startProgress(),t.ajax({method:"GET",url:this.entityUrl+"/list",data:a}).done((function(t){n&&n({data:{items:t.models,total:t.pagination.totals}}),e.$root.stopProgress()})).fail((function(){alert("server error"),e.$root.stopProgress()}))}}}}).call(this,i("EVdn"))}}]);
//# sourceMappingURL=7.js.map